<head>    
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=0.8">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <title>[EPSI] Prototypage IoT</title>
</head>

<body>
  <div class="jumbotron">
    <h1 class="display-4">[EPSI] Prototypage d’objet connecté (IoT).</h1>
    <hr class="my-4">
    <p style="font-size: 20px;">Tableau de bord de vos objets connectés.</p>

    <p class="connexion"> Connexion : {{> loginButtons}} </p>
  </div>

  {{> temp}}
  {{> hum}}
  {{> led}}


  <footer class="footer">
    <hr>
    <p>MADEZO Oscar, NANDILLON Séverin, BENETIER Paul.</p>
    <p>EPSI B3 DEV G2</p>
  </footer>
  
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
</body>

<template name='temp'>
{{#if currentUser}}
  <div class="IOT">
    <div id="weather_wrapper">
	    <div class="weatherCard">
		    <div class="currentTemp">
			    {{#if temp}}
            {{#each t in temp}}
            <span class="temp">{{ t.celsius.value }} {{ t.celsius.unit }}</span>
			      <span class="location">Température</span>
            {{/each}}
          {{else}}
            <p style="color: white;">Aucune température</p>
          {{/if}}
		    </div>
	    </div>
    </div>
  </div>
{{/if}}
</template>

<template name="hum">
{{#if currentUser}}
  <div id="weather_wrapper">
	  <div class="weatherCard">
		  <div class="currentTemp">
			  {{#if hum}}
          {{#each h in hum}}
          <span class="temp">{{ h.humidity.value }} {{ h.humidity.unit }}</span>
			    <span class="location">Humidité</span>
          {{/each}}
        {{else}}
          <p>Aucune humidité</p>
        {{/if}}
		  </div>
	  </div>
  </div>
{{/if}}
</template>

<template name="led">
{{#if currentUser}}
  <button href="#" id="addButton" class="btn btn-outline-info">
    <div id="weather_wrapper">
      <div class="weatherCard">
        <div class="currentTemp">
          <span class="location">LED</span>
        </div>
      </div>
    </div>
  </button>
{{/if}}
</template>